{% extends 'base.html' %}
{% load static %}
{% block title %}Chat
{% endblock %}
{% block content %}
    <div class="container">
        <div id="chat-body" class="panel panel-default" >
            <div id="msg-list-div" class="panel-body">
                  <div id="msg-list-div" class="panel-body" >
                    <ul id="msg-list" class="list-group">
                        {% for obj in chat %}
                                {% if obj.sender == request.user  %}
                                    <li class="text-right list-group-item" >
                                        <p class="bub">{{ obj.message }} </p>
                                        <p style="color: darkgreen;">You</p></li>
                                {% else %}
                                    <li class="text-left list-group-item" >
                                        <p class="bub-left" >{{ obj.message }} </p>
                                        <p style="color: darkblue;">{{ obj.sender }}</p></li>
                                {% endif %}
                        {% empty %}
                            <li class="text-center list-group-item">No messages yet!</li>
                        {% endfor %}
                    </ul>
                </div>
            </div>
            <div class="panel-footer" style="bottom: 0;">
              <form id="chat-form" method="POST" action="{% url 'post' %}">
                {% csrf_token %}
                <div class="input-group">
                    <input type="text"  id="chat-msg"  name="chat-msg"  class="form-control search-form" style="padding: 20px; border-radius: 30px 0px 0px 30px;" placeholder="Type your message....">
                    <span class="input-group-btn " style="border-radius: 60px;">
                      <input class="btn btn-default search-btn" id="send" type="submit" value="Send" style="padding: 10px;border-radius: 0px 30px 30px 0px;outline: none !important;background-color: #00C853 !important;color: black !important;">
                    </span>
                </div>
              </form>
            </div>
        </div>
    </div>
{% endblock content %}